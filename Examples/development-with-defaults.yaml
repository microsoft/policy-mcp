# yaml-language-server: $schema=https://raw.githubusercontent.com/microsoft/policy-mcp/main/schema/v1.json

version: "1.0"
description: "Development policy with common HTTP defaults and custom rules"
permissions:
  storage:
    allow:
    - uri: "fs://workspace/**"
      access: ["read", "write"]
    - uri: "fs://tmp/**"
      access: ["read", "write"]
      
  network:
    allow:
    # Use common HTTP domains for package registries, APIs, etc.
    - defaults: true
    # Add organization-specific domains
    - host: "*.company.internal"
    - host: "jenkins.company.com"
    # Allow local network for development
    - cidr: "192.168.1.0/24"
    deny:
    # Block specific domains even if they're in defaults
    # Example: Block tracking/analytics services that may be included in CDN wildcards
    - host: "*.doubleclick.net"
    - host: "*.facebook.com"
      
  environment:
    allow:
    - key: "PATH"
    - key: "HOME"
    - key: "USER"
    - key: "TEMP"
    - key: "TMP"
    
  resources:
    cpu: 80.0
    memory: 2048
    io: 1000
